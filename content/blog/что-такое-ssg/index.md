---
title: Что такое Static Site Generator и Headless CMS или "Как же меня достал WordPress"
date: "2020-05-31T22:40:32.169Z"
description: Текст о том что такое Static Site Generator и Headless CMS и как ими пользоваться
---

Большинство знакомы с таким понятием как WordPress, но что такое и
зачем нужны Static Site Generator (SSG) и Headless CMS (HCMS)?

Сегодня я расскажу вам про все особенности SSG и HCMS и кейс, в которых они наиболее оптимальные. В частности почему
SSG + HCMS – потрясающий выбор для авторского блога (особенно про IT) или блога стартапа.

### Предисловие

**Почему идет сравнение с WordPress?** Альтернатив с хорошей экосистемой плагинов, практически нет, а те, что есть
абсолютно однотипные и имеют одинаковые проблемы / особенности (PHP, рендеринг на сервере, шаблоны, БД и так далее)

**А почему не облачные сервисы типа Medium?** Главная причина – нет возможности кастомизировать
(добавлять свой код со своими функциями и плагиными) подобные сервисы.

# Что такое SSG и HCMS?

Основная фишка данной технологии Static Site Generator (SSG) – предварительная генерация сайта.

Генерация позволяет взять шаблоны интерфейса (от шаблонизаторов типа Pug, EJS, заканчивая React.js, Vue.js и так далее),
 взять данные с сервера и создать из них готовые статические html страницы.

Чтобы было понятнее, пример: у вас блог на 100 постов. К вам зашел на сайт клиент:

WordPress – *при каждом запросе* берет шаблон, берет данные из БД, объеденяет их и отдает клиенту.

SSG – у вас уже заранее приготовленная (сгенерированная) html страница с контентом, которую вы сразу же отдаете клиенту.

Вот здесь [staticgen.com](https://www.staticgen.com/) можно посмотреть

**Когда именно происходит генерация?**

Вы можете запускать ее вручную или настроить (через готовые инструменты) автоматическиую генерацию контента при любых
изменениях в источнике данных.

**Откуда SSG берет данные?**

SSG может использовать как источник данных что угодно: от текстовых файлов (Markdown, HTML, etc.) до любого API (даже WordPress)

Например, я пишу данный контент прямо в файле, в томже репозитории, где лежит код этого блога.

Но если у вас есть задачи, сложнее, чем дает текстовые файлы, на помощь приходит **Headless CMS**.

"Headless" – означает "не имеющий интерфейса". Если в обычной CMS (типа WordPress) у вас в Теме сразу идет и административная,
и клиентская панель, то Headless предполагает в лучшем случае наличие административной панели, а вот клиентскую вы делаете сами.

При этом гибкость и удобство создания своей клиентской (а иногда и административной панели) достигается засчет `API-first`
подхода – когда весь функционал создается ввиду API (чаще всего, HTTP REST или GraphQL), чтобы можно было делать запросы
с любого frontend.

В остальном это таже самая CMS: создавайте свои типы данных, посты, категории, тэги, блоги, интегрируйте плагины и так далее.

**И в чем прикол?**

А прикол в сочетании SSG и HCMS, а также доп фишках, о которых речь ниже и пойдет.  

# В чем отличия SSG + HCMS от Wordpress-подобных CMS?

Чтобы понять поиграем в ролевую игру:

Вы – современная команда разработки, которая пилит SaaS криптовалютный распределенный мессенджер. И пора
начать вести свое "комьюнити" единоомышленников, поэтому решаете создать блог.

Ваши девелоперы, оторвавшись от создания второго за неделю frontend framework, предлагают воспользоваться SSG + HCMS,
поскольку... Да хер его знает, они сами плохо понимают, но говорят что модно.

Вы уже почти согласились, КАК ВДРУГ в дверь влетает бородатый, вонючий, пропитанный алкоголем седовласый мужчина.
Все сразу понимают – это стандартный PHP разработчик.

А что происходит, когда в комнату врывается PHP разработчик? Правильно, он начинает предлагать пилить все на WordPress или
1С-Битрикс. Более новые версии PHP-шников кричат, что-то невнятное про: "Ларавель" – но там не разберешь.

Делать нечего, придется вступиться с ним с словесную перепалку и решить, кто победит: мудрость пердящих дедов или пыл
несуразных нубов.

## Дизайн

 В первую очередь, вам важно иметь крутой и полностью настраиваемый дизайн.
 
 **В случае с WordPress** у вас есть варианты:
 
 (1) Скачать тему и начать всталять везде `!important`, чтобы хоть что-то заработало. Но верстка будет лететь по швам
 и вы никогда не будете до конца уверены, что ваш сайт отображается так, как вам этого хочется.
 
 (2) Начать пилить тему самому, но для этого придется использовать PHP, CSS и HTML и рендеринг шаблонов на сервере.
 
 Ваши разработчики full-stack гуру JS, а значит в разработке они не более 2-х лет (кто выдержит это гавно дольше?) и в
 жизни не видели "голый" HTML и CSS.
 
 Фрилансеров, которые будут разрабатывать тему, брать не хочется, потому что все знают: PHP фрилансеры – самый подлый
 народ, сравнимо с гоблинами.
 
 И тут на вашу тусовку **влетает SSG**!
 
 Большинство SSG (Gatsby.js, на котором сделан этот сайт, Hugo, ...) позволяют писать клиентскую часть на современных
 Frontend экосистеме, например, React или Vue.js. А значит можно забыть о шаблонах и писать на удобных современному 
 разработчкику инструментах.
 
 Вот, например, ссылка на шаблон данной статьи (ВСТАВИТЬ ССЫЛКУ), который использует React.js + SCSS.
 
 Чтобы вам было вам было легче воспринимать рассказ, я буду иземерять успех систем в баллах:
 
 WordPress: 0 зеленых слоников – пиши на древних на древних манускриптах (PHP, HMTL и CSS).
 
 SSG + HCMS: +1 петух – JS-сь во всю и пока молодой!

## Plug&Play

Ок, кроме офигенного дизайна, мы хотим расширить наш функционал сервисов подписки, комментариями и даже магазином с
продажей ИМБА ЭНЕРД... кхм... простите... продажей своего мерча.

А еще к вам приходит задача добавить в блог чарт с графиком стоимости вашей компании на IPO, данные для которого лежат
в вашей БД Cassandra и раздается Serverless лямбдами с AWS.

**В случае с WordPress** впринципе первые три задачи решаются подключением соответствующих плагинов, типа стандартных
комментариев, WpForms и WooCommerce.

Но я не могу не добавить говнеца (потому что за послений год WP потрепал мне нервов):

1. Чтобы дойти до WPForms пришлось перепробовать еще 2-3 плагина. Все имели или проблему с дизайном, или проблему с
настройками
2. Если отваливается SMTP сервис то вы никак и нигде не увидите об этом предупреждения, придется самому время от времени
лезть в логи и проверять в чем дело. И даже настройка SMTP – это еще тот геморой.
3. Я как нормальный человек хочу подключить что-нибудь типа MailChimp, но оказывается, что интеграция требует покупки
Pro версии WPForms...
4. Чтобы сделать нотификацию с Telegram приходиться качать очень мутный плагин и "надеятся", что он будет работать, поскольку
реально вы этого не узнаете.

Задачи, конечно, решабельные, НО у вас очень простые запросы и чтобы их выполнить вам придется очень много времени потратить
на установку, настройку, пробу и удаление.

!А еще! молиться всем богам, чтобы какой-нибудь из плагинов (например email и telegram, как было у меня) не вступят в
перепалку и не перестанут работать при следующем обновлении. 

Опять же, все решабельно... до вопроса с чартами...

Чтобы рещить его придется что-то напиливать на PHP, html, css и какой-то библиотеке графиков, которая требует при этом
еще JQuery...

Этоу будет долго, тяжело и больно.

Ок, а как тут справиться **SSG и HCMS**?

Во-первых, нужно понимать, что SSG и HCMS устроены так, что их легко и удобно интегрировать с любой системой, которая 
имеет API.

**Нужны комментарии?** Берете любой из существующих сервисов (СПИСОК) и интегрируете его. А ЕЩЕ КРУЧЕ просто подключаете готовый
плагин статический комментариев, которые сохраняется в Github.

**Нужна обратная связь / подписка?** Берете любой MailChimp / SendGrid / TypeForm и так далее, пилите пару React форм,
подключаете готовый API, та дааааам, из коробки удобная форма со всеми фишками.

**Интернет магазин?**  SSG спокойно можно подключить к: Stripe / Paypal / Shopify / Ecwid / NODEJS ECOMMERCE, если нужно,
организовать логику корзины на Redux и воротить всю хуйню, которую хотите. 

**Чарты?** У нас с вами в руках React или типа того, мы просто берем под него библиотеку чартов, делаем привычный любому фронту

Подытожу так:

WordPress: +3 – 1 балл за кучу готовых плагинов, которые позволяют "собрать все в одном месте", если вам это очень нужно,
2 балла за WooCommerce, так как площадка годная и для российского интернет-магазина может дать более быстрый старт.

SSG + HCMS: +3 – 1 балла за удобное подключение любого сервиса через их SDK, 1 балл за отсутствии попытки  "собрать все
в одном месте", что уменьшает количество багов и несовместимостей, 1 балл – за большое количество плагинов под SSG (например).

Тут я решил соблюсти равновесие, потому что подходы АБСОЛЮТНО разные и каждый решает задачу по-своему.

## Размер

Поскольку с SSG + HCMS мы можем как полностью управлять дизайном на современном стеке, так и легко интегрировать доп плагины без нужды
вшивать их куда-то глубоко внутрь системы, мы имеем оооочень оптимизированный и легкий бандл css, js и других ассетов.

А еще плюсик: у многих SSG есть встроенные плагины по автоматической оптимизации ассетов (lazy-loading, обрезка и подобное),
типа картинок и подобного.

А в вебе размер имеет значение.

WordPress: -1 балл – это просто никуда не годиться: минификация и компилция исходников на WP – это просто боль, и чем больше
вы добавляете плагинов, тем хуже все становится. Довести WP до нормы размера бандла очень сложная задача.

SSG + HCMS: +2 балла – ну здесь просто все и сразу из коробки, вообще не надо ни о чем думать, размер будет меньше некуда. 

## Скорость (статика + распределённый cdn)

...

А еще, если просумировать с пунктами про Размер, Свой функционал и Дизайн, то окажется, что ваш бандл весит В РАЗЫ меньше
и гораздо более оптимизированный под SEO, да и вообще под UserExperience.

...  

## Безопасность

Мой дядя из Армении (а любой знакомый мужчина старше тебя в Армении считается твоим дядей, если твои волосы тоже черны
и лихо завиваются в жопе густыми прядями), владеющий фирмой безопасности, однажды рассказал как он продает услуги
кибербезопасности:

"Я захочу к владельцу пристижного онлайн-издания в Армении и спршиваю у него, что будет, если ваш сайт взломают хакеры из
\#{любая другая кавказкая страна, потому что они почему-то все друг друга не любят} и в одном из постов годом ранее
поменяет текст так, что Армения будет угрожать ей атакой. А после, пожалуется в ООК ('Организация Объединенных Кавказцев'
или что-то в этом духе), что наша страна так некрасиво себя показывает на одном из своих самых важных ресурсов?"

Тогда директор этого СМИ быстро достает мешок красных макасин (местная валюта) и просит обезопасить свое издание.

Да, в нашем случае, мы всеголишь пилим мессенджер, но мы точно не хотим, чтобы каким-либо образом нас взломали и попортили
или выкрали данные из CMS. 

В случае WordPress – всем известны давным давно известны все методы взлома, поэтому это или вопрос времени, или вопрос
реальных вложений для защиты нашей системы.

А еще есть такой интересный факт: наиболее подверженные для взлома системы, те, на которых административная панель или
источник данных доступны из клиентской панели.

Поскольку страницы WordPress формируются на лету и приходят к нам с сервера, злоумышлинник всегда знает адрес, куда можно
долбиться, пока он не найдет способ проникнуть в систему.

**В случае SSG + HCMS**: SSG компилирует все заранее и готовым html нет никакой нужды ходить на сервер. Выкладываем их
в одном месте, нашу HCMS в другом и все. Злоумышленник не имеет НИКАКОГО способа узнать где лежат наши данные и как-либо
стучаться в нашу систему.

Даже плагины могут иметь совершенно другой вход и не быть слиты с основной БД.

## Контент не только для сайта

Так, теперь вы решили, что в вашем мобильном приложении должны появляться новости также, как и на сайте.
И у меня для вас хорошие новости:

HCMS в первую очередь это API-first системы. Это значит, что ВЕСЬ их функционал полностью заточен, чтобы быть доступным
через API (будь то HTTP или GraphQL), а значит и плагины, которые под них делают тоже в-первую очередь будут заточены
под API.

А значит вы можете поличить доступ к этому функционалу как на сайте, так и на мобильном, да хоть в терминале или умном утюге.
Короче, куда вам надо, оттуда этот контент может быть запрошен.

Да у WordPress есть плагины, которые позволяют раздавать API через HTTP и GraphQL, но вы понимаете насколько большая
разница качества и удобство подобного функционала, когда это не "дополнительная функция с плагином", а основной механим
технологии?

## PHP? Oh God, please no! Noooooo

Ну и впринципе, а что если у вас нет PHP разработчиков? Ну нет их. Но достаточно заваляться где-то в углу одному фронтендеру
и этого достаточно, чтобы решить юольшое количество кейсов

# Парочка допов

## Условная бесплатность

...

## Редактирование через Github

Это, конечно, своеборазная возможность, но очень прикольно иметь способ писать и редактировать свой контент прямо из
Github, если вы используете Markdown контент (как это делаю я (ВСТАВИТЬ ССЫЛКУ)).

Это гораздо более простая и удобная система, чем способ 

## Еще много и много чего

Вообще, писать об этом можно долго и в своем блоге я буду постепенно добавлять всякие фишки про SSG + HCMS, потому что
решил, что буду вести англоязычную версию сайта (davidshekunts.com) на Gatsby.js и Markdown + Ghost CMS.

Так что, если интересно, подписывайтесь в Telegram-канале и ждите новостей на этоу тему 

# Итог

Подходит ли SSG + HCMS для всех ситуация? Нет, далеко не для всех. Если у вас среднего размера СМИ, или ваш штат
разработки состоит из ~~людей, которые слишком тупые чтобы выучить нормальный язык программировани~~ PHP разработчиков.

# P.S.

## Почему я вообще завел об этом речь?

Когда я впревые прочитал про SSG и HCMS я абсолютно ничего не понял и обошел эти технологии стороной.
Но пришел час, когда личный серьезный блог понадобился и мне. WordPress, конечно решает почти все мои
потребности, но появилось ощущение что как-то странно что уже десятилетя мы пишем свой контент на одной
и тойже системе практически за неимением альтернатив. *Должно же быть хоть что-то современное*, что
меняет подход к существующим системам создания контента? И да, это есть.

___

В 2014-ом году первым моим сайтом стал сайт-портфолио на WordPress. Я уже изложил свою оду ненависти к этому факту.

В 2020-ом по-прежнему при выборе движка для блога / портфолио, за практические неимением адекватных альтернатив
тойже весовой категории.

Но вот я задумался: "Но разве не придумали чего-то нового? Чего-то более человечного?" – тогда мне на глаза попались такие термины
как Static Site Generator (SSG) и Headless CMS (HCMS).

Посмотрел, почитал, почесал репу, нихуя не понял, забил хрен.

Но время идет, контент на WordPress пишется, а проблемы все больше и больше накапливаются: